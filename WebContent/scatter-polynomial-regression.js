
var data = [
    [6,406+11843],
    [10, 709+105361+8623+355+20112+14183+30503+767862+39637+49078+50240+121419+29654+44046+50813],
    [20, 5952+502037+915606+1871990+767862+39637+49078+50240+43129+44831+78954+115130+126328+26148+204885+6582+41927+68838+16765+29654+44046+50813+30477+3519118+41500+4992+251218+541380+82628+91714+101559+13250],
    [30, 1594505+39637+49078+50240+43129+44831+78954+115130+126328+26148+204885+6582+41927+431244+68838+14920+16765+800914+332664+59258+41560+3575+44046+50813+30477+3519118+41500+4992+251218+541380+82628+91714+101559+13250],
    [40, 78310+44831+78954+115130+126328+26148+204885+6582+41927+431244+68838+14920+16765+86512+800914+332664+59258+41560+3575+30477+3519118+41500+4992+251218+541380+82628+91714+101559+13250],
    [50, 9267711+35389+4479727+416764+41928+78954+115130+126328+26148+204885+41927+431244+68838+14920+16765+86512+800914+332664+59258+41560+3575+1969+4503+1042424+1867437+30477+3519118+41500+4992+251218+541380+82628+91714+101559+13250],    
    [60, +78954+115130+126328+26148+204885+41927+431244+68838+14920+16765+86512+800914+332664+59258+41560+3575+1969+4503+764985+189239+30477+3519118+41500+4992+251218+541380+82628+91714+101559+13250],
    [70, +78954+115130+431244+68838+14920+16765+86512+332664+59258+41560+3575+1969+4503+44160+122388+9963+16916+5549+94762+2646+30477+3519118+41500+4992+251218+541380+82628+91714+101559+13250],
    [80, 298569+12477+888945+78954+115130+68838+14920+16765+86512+59258+41560+3575+1969+4503+44160+122388+28544+9963+16916+5549+826+164670+94762+2646+30477+3519118+41500+4992+251218+541380+82628+91714+101559+13250+569725+180591],
    [90, +115130+14920+16765+59258+41560+3575+1969+4503+44160+122388+28544+9963+16916+5549+826+164670+94762+2646+41500+4992+251218+541380+82628+91714+101559+13250+569725+180591],
    [100, 653174+191033+92897+115130+14920+16765+59258+41560+3575+1969+4503+44160+122388+28544+9963+5820+16916+5549+826+164670+94762+1041786+2646+41500+4992+251218+541380+82628+91714+101559+13250+569725+180591],
    [120, 1077742+14920+16765+41560+3575+1969+4503+44160+122388+28544+9963+5820+16916+5549+826+164670+94762+3448+2646+74947+41500+541380+82628+91714+101559+13250+569725+180591],
    [140, +14920+16765+3575+1969+44160+122388+28544+9963+5820+16916+5549+826+164670+94762+2646+541380+82628+91714+101559+13250+569725+180591],
    [160, +14920+16765+3575+1969+122388+28544+9963+5820+16916+5549+826+164670+94762+2646+82628+91714+101559+13250+569725+180591],
    [180, 202330+14920+16765+3575+1969+122388+28544+9963+5820+16916+5549+826+164670+94762+139+82628+91714+101559+13250+569725+180591],
    [200, 567771+10775+4768+16765+1969+122388+9963+5820+16916+826+29897+2896+139+7700+345+111248+82628+91714+101559+13250+569725+180591],
    [220, +16765+1969+9963+5820+16916+826+29897+2896+139+7700+345+101559+13250+569725+180591],
    [240, +16765+1969+5820+16916+826+29897+2896+139+7700+345+101559+13250+569725+180591],
    [260, +16765+1969+5820+16916+29897+2896+139+7700+345+101559+13250+569725+180591],
    [280, +16765+1969+5820+16916+29897+2896+139+7700+345+101559+13250+569725+180591],
    [300, 428005+21554+29897+2896+139+7700+345+13250+180591],
    [330, 55162+29897+2896+139+7700+345+13250+180591],
    [360, 23172+107187+29897+2896+139+7700+345+13250+180591],
    [390, 55162+29897+2896+139+7700+345+13250+180591],
    [420, +7700+345+13250+180591],
    [450, +7700+345],
    [480, +7700+345],
    [510, +345],
    [540, +345],
    [570, +345],
    [600, 34697+9741+16848+369],
];

// See https://github.com/ecomfe/echarts-stat
var myRegression = ecStat.regression('polynomial', data, 10);

myRegression.points.sort(function(a, b) {
    return a[0] - b[0];
});

option = {

    tooltip: {
        trigger: 'axis',
        axisPointer: {
            type: 'shadow'
        }
    },
    title: {
        text: '尼康单反镜头产量和焦距的关系',
    	//text: '----------------',
        left: 'center',
        top: 16
    },
    xAxis: {
        type: 'value',
        splitLine: {
            lineStyle: {
                type: 'dashed'
            }
        },
        splitNumber: 20
    },
    yAxis: {
        type: 'value',
        min: -40,
        splitLine: {
            lineStyle: {
                type: 'dashed'
            }
        }
    },
    grid: {
        top: 90
    },
    series: [{
        name: 'scatter',
        type: 'scatter',
        label: {
            emphasis: {
                show: true,
                position: 'right',
                textStyle: {
                    color: 'blue',
                    fontSize: 16
                }
            }
        },
        data: data
    }, {
        name: 'line',
        type: 'line',
        smooth: true,
        showSymbol: false,
        data: myRegression.points,
        markPoint: {
            itemStyle: {
                normal: {
                    color: 'transparent'
                }
            },
            label: {
                normal: {
                    show: true,
                    position: 'left',
                    formatter: myRegression.expression,
                    textStyle: {
                        color: '#333',
                        fontSize: 14
                    }
                }
            },
            data: [{
                coord: myRegression.points[myRegression.points.length - 1]
            }]
        }
    }]
};